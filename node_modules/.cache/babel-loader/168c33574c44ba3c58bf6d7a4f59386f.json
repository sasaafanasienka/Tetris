{"ast":null,"code":"import React, { useState, useEffect } from 'react'; // import addNewBlock from '../gameEvents/addNewBlock';\n\nimport DataTransform from './DataTransform';\nlet dataTransform = new DataTransform();\nexport default class MoveDown extends React.Component {\n  stopBlock(currentArea) {\n    let newArea = [];\n\n    for (let i = 0; i < 240; i++) {\n      if (currentArea[i] === 1) {\n        newArea.push(2);\n      } else {\n        newArea.push(currentArea[i]);\n      }\n    }\n\n    return newArea;\n  }\n\n  move(currentArea) {\n    let newArea = [];\n    let stoppedBlocks = currentArea.map(el => {\n      return el === 2 ? el = 2 : el = 0;\n    });\n    let movingBlocks = currentArea.map(el => {\n      return el === 1 ? el = 1 : el = 0;\n    });\n\n    if (movingBlocks.slice(-10).includes(1)) {\n      return this.stopBlock(currentArea);\n    } else {\n      movingBlocks.splice(230);\n      movingBlocks = [0];\n    }\n\n    console.log(stoppedBlocks.length);\n    console.log(movingBlocks.length);\n\n    for (let b = 0; b < 240; b++) {\n      const sum = stoppedBlocks[b] + movingBlocks[b];\n\n      if (sum > 2) {\n        newArea.push(sum);\n      } else {\n        return this.stopBlock(currentArea);\n      }\n    }\n\n    return newArea; // return currentArea\n  }\n\n}","map":{"version":3,"sources":["D:/FrontEnd/03-tetris/src/blockMoves/MoveDown.js"],"names":["React","useState","useEffect","DataTransform","dataTransform","MoveDown","Component","stopBlock","currentArea","newArea","i","push","move","stoppedBlocks","map","el","movingBlocks","slice","includes","splice","console","log","length","b","sum"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C,C,CACA;;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,IAAIC,aAAa,GAAG,IAAID,aAAJ,EAApB;AAEA,eAAe,MAAME,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAuC;AAElDC,EAAAA,SAAS,CAACC,WAAD,EAAc;AACnB,QAAIC,OAAO,GAAG,EAAd;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,GAApB,EAAyBA,CAAC,EAA1B,EAA8B;AAC1B,UAAIF,WAAW,CAACE,CAAD,CAAX,KAAmB,CAAvB,EAA0B;AACtBD,QAAAA,OAAO,CAACE,IAAR,CAAa,CAAb;AACH,OAFD,MAEO;AACHF,QAAAA,OAAO,CAACE,IAAR,CAAaH,WAAW,CAACE,CAAD,CAAxB;AACH;AACJ;;AACD,WAAOD,OAAP;AACH;;AAEDG,EAAAA,IAAI,CAACJ,WAAD,EAAc;AACd,QAAIC,OAAO,GAAG,EAAd;AACA,QAAII,aAAa,GAAGL,WAAW,CAACM,GAAZ,CAAiBC,EAAD,IAAQ;AACxC,aAAOA,EAAE,KAAK,CAAP,GAAWA,EAAE,GAAG,CAAhB,GAAoBA,EAAE,GAAG,CAAhC;AACH,KAFmB,CAApB;AAGA,QAAIC,YAAY,GAAGR,WAAW,CAACM,GAAZ,CAAiBC,EAAD,IAAQ;AACvC,aAAOA,EAAE,KAAK,CAAP,GAAWA,EAAE,GAAG,CAAhB,GAAoBA,EAAE,GAAG,CAAhC;AACH,KAFkB,CAAnB;;AAGA,QAAIC,YAAY,CAACC,KAAb,CAAmB,CAAC,EAApB,EAAwBC,QAAxB,CAAiC,CAAjC,CAAJ,EAAyC;AACrC,aAAO,KAAKX,SAAL,CAAeC,WAAf,CAAP;AACH,KAFD,MAEO;AACHQ,MAAAA,YAAY,CAACG,MAAb,CAAoB,GAApB;AACAH,MAAAA,YAAY,GAAG,CAAC,CAAD,CAAf;AACH;;AACDI,IAAAA,OAAO,CAACC,GAAR,CAAYR,aAAa,CAACS,MAA1B;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYL,YAAY,CAACM,MAAzB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,GAApB,EAAyBA,CAAC,EAA1B,EAA8B;AAC1B,YAAMC,GAAG,GAAGX,aAAa,CAACU,CAAD,CAAb,GAAmBP,YAAY,CAACO,CAAD,CAA3C;;AACA,UAAIC,GAAG,GAAG,CAAV,EAAa;AACTf,QAAAA,OAAO,CAACE,IAAR,CAAaa,GAAb;AACH,OAFD,MAEO;AACH,eAAO,KAAKjB,SAAL,CAAeC,WAAf,CAAP;AACH;AACJ;;AACD,WAAOC,OAAP,CAxBc,CAyBd;AACH;;AAxCiD","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n// import addNewBlock from '../gameEvents/addNewBlock';\r\nimport DataTransform from './DataTransform'\r\nlet dataTransform = new DataTransform()\r\n\r\nexport default class MoveDown extends React.Component {\r\n\r\n    stopBlock(currentArea) {\r\n        let newArea = []\r\n        for (let i = 0; i < 240; i++) {\r\n            if (currentArea[i] === 1) {\r\n                newArea.push(2)\r\n            } else {\r\n                newArea.push(currentArea[i])\r\n            }\r\n        }\r\n        return newArea\r\n    }\r\n\r\n    move(currentArea) {\r\n        let newArea = []\r\n        let stoppedBlocks = currentArea.map((el) => {\r\n            return el === 2 ? el = 2 : el = 0\r\n        })\r\n        let movingBlocks = currentArea.map((el) => {\r\n            return el === 1 ? el = 1 : el = 0\r\n        })\r\n        if (movingBlocks.slice(-10).includes(1)) {\r\n            return this.stopBlock(currentArea)\r\n        } else {\r\n            movingBlocks.splice(230)\r\n            movingBlocks = [0, ]\r\n        }\r\n        console.log(stoppedBlocks.length)\r\n        console.log(movingBlocks.length)\r\n        for (let b = 0; b < 240; b++) {\r\n            const sum = stoppedBlocks[b] + movingBlocks[b]\r\n            if (sum > 2) {\r\n                newArea.push(sum)\r\n            } else {\r\n                return this.stopBlock(currentArea)\r\n            }\r\n        }\r\n        return newArea\r\n        // return currentArea\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}