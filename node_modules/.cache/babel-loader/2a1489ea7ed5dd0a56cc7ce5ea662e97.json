{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport addNewBlock from '../gameEvents/addNewBlock';\nimport DataTransform from './DataTransform';\nlet dataTransform = new DataTransform();\nexport default class MoveDown extends React.Component {\n  stopBlock(area) {\n    return area.map(function (el) {\n      if (el === 1) {\n        return el = 2;\n      } else {\n        return el;\n      }\n    });\n  }\n\n  removeFullRows(area) {\n    let filteredArea = area.filter(row => {\n      return row.some(el => {\n        return el === 0;\n      });\n    }); // console.log(filteredArea)\n    // for (let i = 0; i < 20 - filteredArea.length; i++) {\n    //     filteredArea.unShift([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\n    // }\n\n    return area;\n  }\n\n  move1(area) {\n    let newArea = area;\n\n    for (let i = area.length; i >= 0; i--) {\n      for (let a = 0; a < area[i].length; a++) {\n        if (area[i][a] === 1) {\n          newArea[i][a] === 0;\n          newArea[i + 1][a] = 1;\n        }\n      }\n    }\n\n    return area;\n  }\n\n  move(scheme) {\n    const newArea = dataTransform.schemeToArr(scheme);\n\n    for (let i = newArea.length; i >= 0; i--) {\n      if (newArea[i] === 1) {\n        if (i + 10 < 200 && newArea[i + 10] === 0) {\n          newArea[i] = 0;\n          newArea[i + 10] = 1;\n        } else {\n          newArea = dataTransform.schemeToArr(scheme);\n          let areaToRender = this.stopBlock(newArea);\n          console.log(areaToRender);\n          areaToRender = dataTransform.arrToScheme(areaToRender);\n          console.log(areaToRender);\n          areaToRender = this.removeFullRows(areaToRender); // areaToRender = addNewBlock(areaToRender)\n\n          return areaToRender;\n        }\n      }\n    }\n\n    return dataTransform.arrToScheme(newArea);\n  }\n\n}","map":{"version":3,"sources":["D:/FrontEnd/03-tetris/src/blockMoves/MoveDown.js"],"names":["React","useState","useEffect","addNewBlock","DataTransform","dataTransform","MoveDown","Component","stopBlock","area","map","el","removeFullRows","filteredArea","filter","row","some","move1","newArea","i","length","a","move","scheme","schemeToArr","areaToRender","console","log","arrToScheme"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,IAAIC,aAAa,GAAG,IAAID,aAAJ,EAApB;AAEA,eAAe,MAAME,QAAN,SAAuBN,KAAK,CAACO,SAA7B,CAAuC;AAElDC,EAAAA,SAAS,CAACC,IAAD,EAAO;AACZ,WAAOA,IAAI,CAACC,GAAL,CAAS,UAASC,EAAT,EAAa;AACzB,UAAIA,EAAE,KAAK,CAAX,EAAc;AAAE,eAAOA,EAAE,GAAG,CAAZ;AAAgB,OAAhC,MAAsC;AAAE,eAAOA,EAAP;AAAW;AACtD,KAFM,CAAP;AAGH;;AAEDC,EAAAA,cAAc,CAACH,IAAD,EAAO;AACjB,QAAII,YAAY,GAAGJ,IAAI,CAACK,MAAL,CAAaC,GAAD,IAAS;AACpC,aAAOA,GAAG,CAACC,IAAJ,CAAUL,EAAD,IAAQ;AACpB,eAAOA,EAAE,KAAK,CAAd;AACH,OAFM,CAAP;AAGH,KAJkB,CAAnB,CADiB,CAMjB;AACA;AACA;AACA;;AACA,WAAOF,IAAP;AACH;;AAEDQ,EAAAA,KAAK,CAACR,IAAD,EAAO;AACR,QAAIS,OAAO,GAAGT,IAAd;;AACA,SAAK,IAAIU,CAAC,GAAGV,IAAI,CAACW,MAAlB,EAA0BD,CAAC,IAAI,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACnC,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,IAAI,CAACU,CAAD,CAAJ,CAAQC,MAA5B,EAAoCC,CAAC,EAArC,EAAyC;AACrC,YAAIZ,IAAI,CAACU,CAAD,CAAJ,CAAQE,CAAR,MAAe,CAAnB,EAAsB;AAClBH,UAAAA,OAAO,CAACC,CAAD,CAAP,CAAWE,CAAX,MAAkB,CAAlB;AACAH,UAAAA,OAAO,CAACC,CAAC,GAAG,CAAL,CAAP,CAAeE,CAAf,IAAoB,CAApB;AACH;AACJ;AACJ;;AACD,WAAOZ,IAAP;AACH;;AAEDa,EAAAA,IAAI,CAACC,MAAD,EAAS;AACT,UAAML,OAAO,GAAGb,aAAa,CAACmB,WAAd,CAA0BD,MAA1B,CAAhB;;AACA,SAAK,IAAIJ,CAAC,GAAGD,OAAO,CAACE,MAArB,EAA6BD,CAAC,IAAI,CAAlC,EAAqCA,CAAC,EAAtC,EAA0C;AACtC,UAAID,OAAO,CAACC,CAAD,CAAP,KAAe,CAAnB,EAAsB;AAClB,YAAIA,CAAC,GAAG,EAAJ,GAAS,GAAT,IAAgBD,OAAO,CAACC,CAAC,GAAG,EAAL,CAAP,KAAoB,CAAxC,EAA2C;AACvCD,UAAAA,OAAO,CAACC,CAAD,CAAP,GAAa,CAAb;AACAD,UAAAA,OAAO,CAACC,CAAC,GAAG,EAAL,CAAP,GAAkB,CAAlB;AACH,SAHD,MAGO;AACHD,UAAAA,OAAO,GAAGb,aAAa,CAACmB,WAAd,CAA0BD,MAA1B,CAAV;AACA,cAAIE,YAAY,GAAG,KAAKjB,SAAL,CAAeU,OAAf,CAAnB;AACAQ,UAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACAA,UAAAA,YAAY,GAAGpB,aAAa,CAACuB,WAAd,CAA0BH,YAA1B,CAAf;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;AACAA,UAAAA,YAAY,GAAG,KAAKb,cAAL,CAAoBa,YAApB,CAAf,CANG,CAOH;;AACA,iBAAOA,YAAP;AACH;AACJ;AACJ;;AACD,WAAOpB,aAAa,CAACuB,WAAd,CAA0BV,OAA1B,CAAP;AACH;;AAtDiD","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport addNewBlock from '../gameEvents/addNewBlock';\r\nimport DataTransform from './DataTransform'\r\nlet dataTransform = new DataTransform()\r\n\r\nexport default class MoveDown extends React.Component {\r\n\r\n    stopBlock(area) {\r\n        return area.map(function(el) {\r\n            if (el === 1) { return el = 2; } else { return el }\r\n        });\r\n    }\r\n\r\n    removeFullRows(area) {\r\n        let filteredArea = area.filter((row) => {\r\n            return row.some((el) => {\r\n                return el === 0\r\n            })\r\n        })\r\n        // console.log(filteredArea)\r\n        // for (let i = 0; i < 20 - filteredArea.length; i++) {\r\n        //     filteredArea.unShift([0, 0, 0, 0, 0, 0, 0, 0, 0, 0])\r\n        // }\r\n        return area\r\n    }\r\n\r\n    move1(area) {\r\n        let newArea = area\r\n        for (let i = area.length; i >= 0; i--) {\r\n            for (let a = 0; a < area[i].length; a++) {\r\n                if (area[i][a] === 1) {\r\n                    newArea[i][a] === 0\r\n                    newArea[i + 1][a] = 1\r\n                }\r\n            }\r\n        }\r\n        return area\r\n    }\r\n\r\n    move(scheme) {\r\n        const newArea = dataTransform.schemeToArr(scheme)\r\n        for (let i = newArea.length; i >= 0; i--) {\r\n            if (newArea[i] === 1) {\r\n                if (i + 10 < 200 && newArea[i + 10] === 0) {\r\n                    newArea[i] = 0;\r\n                    newArea[i + 10] = 1;\r\n                } else {\r\n                    newArea = dataTransform.schemeToArr(scheme)\r\n                    let areaToRender = this.stopBlock(newArea)\r\n                    console.log(areaToRender)\r\n                    areaToRender = dataTransform.arrToScheme(areaToRender)\r\n                    console.log(areaToRender)\r\n                    areaToRender = this.removeFullRows(areaToRender)\r\n                    // areaToRender = addNewBlock(areaToRender)\r\n                    return areaToRender\r\n                }\r\n            }\r\n        }\r\n        return dataTransform.arrToScheme(newArea)\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}